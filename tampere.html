<style>
#q {
    position: fixed;
    left: 50:
    top: 50;
    width: 300px;
    height: 50px;
    border: 3px solid #73AD21;
}
#q td {
    color: blue;
    font-weight: bold;
    font-size: 20px;
}
img.button {
    position: absolute;
    display: none;
}
</style>
<div>
    <div id="q">
        <table>
            <tr><td id="scoretext">
            <tr><td id="text">
        </table>
    </div>
    <canvas id="canvas" width="1800" height="1200">
    <img id="map" src="tampere.png">
    </canvas>
    <img id="greenbutton" class="button" src="greenbutton.png">
    <img id="redbutton"  class="button" src="redbutton.png">
</div>
<script>

// Tampereen kartta ladattu Tampereen karttapalvelusta (virastokartta).
// Data ladattu Nimisammosta csv-muodossa ja muutettu jsoniksi:
var places = [{
		"id": "http://ldf.fi/copla/P_10581554",
		"prefLabel": "Taatala",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4689619834559,
		"long": 23.7755202537533
	},{
		"id": "http://ldf.fi/copla/P_10581555",
		"prefLabel": "Rautaharkko",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4681305186492,
		"long": 23.7666910121138
	},{
		"id": "http://ldf.fi/copla/P_10581556",
		"prefLabel": "Nirva",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4648217036015,
		"long": 23.7902551687631
	},{
		"id": "http://ldf.fi/copla/P_12004267",
		"prefLabel": "Janka",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4897820806716,
		"long": 23.8461622635659
	},{
		"id": "http://ldf.fi/copla/P_10581559",
		"prefLabel": "Härmälä",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4681032161239,
		"long": 23.7384128469309
	},{
		"id": "http://ldf.fi/copla/P_10581560",
		"prefLabel": "Peltolammi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4535143646272,
		"long": 23.7477133453405
	},{
		"id": "http://ldf.fi/copla/P_10581561",
		"prefLabel": "Lakalaiva",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4601455323121,
		"long": 23.76243750166
	},{
		"id": "http://ldf.fi/copla/P_10581562",
		"prefLabel": "Leppänen",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4449903595093,
		"long": 23.7741757003247
	},{
		"id": "http://ldf.fi/copla/P_10581563",
		"prefLabel": "Koivistonkylä",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4736121241298,
		"long": 23.7877944397952
	},{
		"id": "http://ldf.fi/copla/P_10581564",
		"prefLabel": "Hatanpää",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4848689020558,
		"long": 23.7528081937431
	},{
		"id": "http://ldf.fi/copla/P_10581565",
		"prefLabel": "Rantaperkiö",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.473050019511,
		"long": 23.7525268189461
	},{
		"id": "http://ldf.fi/copla/P_10582389",
		"prefLabel": "Hakametsä",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4911265260933,
		"long": 23.838397704364
	},{
		"id": "http://ldf.fi/copla/P_12001624",
		"prefLabel": "Käpylä",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5117743805931,
		"long": 23.7858544536156
	},{
		"id": "http://ldf.fi/copla/P_10582390",
		"prefLabel": "Ristinarkku",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4893772749274,
		"long": 23.854850372752
	},{
		"id": "http://ldf.fi/copla/P_10582391",
		"prefLabel": "Uusikylä",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.493466168611,
		"long": 23.8220336578931
	},{
		"id": "http://ldf.fi/copla/P_10582393",
		"prefLabel": "Irjala",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4962346481901,
		"long": 23.8480029018345
	},{
		"id": "http://ldf.fi/copla/P_10582394",
		"prefLabel": "Huikas",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4979015775114,
		"long": 23.8383437022216
	},{
		"id": "http://ldf.fi/copla/P_10582396",
		"prefLabel": "Takahuhti",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5015374360655,
		"long": 23.847432393225
	},{
		"id": "http://ldf.fi/copla/P_10582397",
		"prefLabel": "Ruotula",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5042905593772,
		"long": 23.8381226778199
	},{
		"id": "http://ldf.fi/copla/P_10582398",
		"prefLabel": "Kissanmaa",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.499757849101,
		"long": 23.8161390771815
	},{
		"id": "http://ldf.fi/copla/P_10582399",
		"prefLabel": "Kauppi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5074846362225,
		"long": 23.8099516181006
	},{
		"id": "http://ldf.fi/copla/P_10581546",
		"prefLabel": "Multisilta",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4382927504449,
		"long": 23.7514347156904
	},{
		"id": "http://ldf.fi/copla/P_12000990",
		"prefLabel": "Niemenranta",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5212978696687,
		"long": 23.6844677365819
	},{
		"id": "http://ldf.fi/copla/P_10581566",
		"prefLabel": "Nekala",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4802786414325,
		"long": 23.798989686491
	},{
		"id": "http://ldf.fi/copla/P_10581567",
		"prefLabel": "Viinikka",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4862702942752,
		"long": 23.7798062125611
	},{
		"id": "http://ldf.fi/copla/P_10582129",
		"prefLabel": "Lukonmäki",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4687278717049,
		"long": 23.8458299449622
	},{
		"id": "http://ldf.fi/copla/P_10904787",
		"prefLabel": "Vuores",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4347414441112,
		"long": 23.8082777374177
	},{
		"id": "http://ldf.fi/copla/P_10582131",
		"prefLabel": "Turtola",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4781113108154,
		"long": 23.8355755873919
	},{
		"id": "http://ldf.fi/copla/P_10582133",
		"prefLabel": "Vuohenoja",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.484912343292,
		"long": 23.8205811167279
	},{
		"id": "http://ldf.fi/copla/P_10582138",
		"prefLabel": "Finninmäki",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4673537105568,
		"long": 23.8613870870987
	},{
		"id": "http://ldf.fi/copla/P_12000985",
		"prefLabel": "Tampella",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5048630730961,
		"long": 23.7656317529042
	},{
		"id": "http://ldf.fi/copla/P_12000986",
		"prefLabel": "Armonkallio",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.50586759353,
		"long": 23.7708859075202
	},{
		"id": "http://ldf.fi/copla/P_12000987",
		"prefLabel": "Finlayson",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5026880429557,
		"long": 23.7553448712986
	},{
		"id": "http://ldf.fi/copla/P_12000988",
		"prefLabel": "Kaakinmaa",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4940244335229,
		"long": 23.7477213388998
	},{
		"id": "http://ldf.fi/copla/P_12000989",
		"prefLabel": "Kyttälä",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4987477140893,
		"long": 23.7693864643523
	},{
		"id": "http://ldf.fi/copla/P_10582143",
		"prefLabel": "Veisu",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4715148719714,
		"long": 23.8127189599492
	},{
		"id": "http://ldf.fi/copla/P_10582145",
		"prefLabel": "Messukylä",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4844286272186,
		"long": 23.8472351336539
	},{
		"id": "http://ldf.fi/copla/P_10582146",
		"prefLabel": "Hermia",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4475496705599,
		"long": 23.8593635448256
	},{
		"id": "http://ldf.fi/copla/P_10582147",
		"prefLabel": "Hervanta",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4543198405996,
		"long": 23.8574700970592
	},{
		"id": "http://ldf.fi/copla/P_10582148",
		"prefLabel": "Viiala",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4763910422708,
		"long": 23.8532052503592
	},{
		"id": "http://ldf.fi/copla/P_10581717",
		"prefLabel": "Ratina",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.491889731441,
		"long": 23.7597171377937
	},{
		"id": "http://ldf.fi/copla/P_10581720",
		"prefLabel": "Petsamo",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5080791100521,
		"long": 23.7989977791837
	},{
		"id": "http://ldf.fi/copla/P_10581721",
		"prefLabel": "Kaleva",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4989729956416,
		"long": 23.8004649093195
	},{
		"id": "http://ldf.fi/copla/P_10581723",
		"prefLabel": "Järvensivu",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4892083372367,
		"long": 23.8057646906215
	},{
		"id": "http://ldf.fi/copla/P_10581725",
		"prefLabel": "Lappi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5131352400801,
		"long": 23.7840117616297
	},{
		"id": "http://ldf.fi/copla/P_10581726",
		"prefLabel": "Amuri",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.500405213172,
		"long": 23.7446290213246
	},{
		"id": "http://ldf.fi/copla/P_10582150",
		"prefLabel": "Korkinmäki",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4715665425654,
		"long": 23.8286049741687
	},{
		"id": "http://ldf.fi/copla/P_10582151",
		"prefLabel": "Muotiala",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4773107760618,
		"long": 23.8199306670972
	},{
		"id": "http://ldf.fi/copla/P_10582152",
		"prefLabel": "Aakkula",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4839528007764,
		"long": 23.8376573340266
	},{
		"id": "http://ldf.fi/copla/P_10581727",
		"prefLabel": "Tammela",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5009598338339,
		"long": 23.7795707840236
	},{
		"id": "http://ldf.fi/copla/P_10582403",
		"prefLabel": "Pappila",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4960950643811,
		"long": 23.8690881941776
	},{
		"id": "http://ldf.fi/copla/P_10902916",
		"prefLabel": "Lahdesjärvi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4596411093014,
		"long": 23.7756281174676
	},{
		"id": "http://ldf.fi/copla/P_10582412",
		"prefLabel": "Hirviniemi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5384989773824,
		"long": 23.8548650192656
	},{
		"id": "http://ldf.fi/copla/P_10899260",
		"prefLabel": "Hallila",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4630906814022,
		"long": 23.8293906149252
	},{
		"id": "http://ldf.fi/copla/P_10581673",
		"prefLabel": "Niemi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5292737092726,
		"long": 23.6886259720718
	},{
		"id": "http://ldf.fi/copla/P_10581674",
		"prefLabel": "Lentävänniemi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5273374588799,
		"long": 23.7057104959626
	},{
		"id": "http://ldf.fi/copla/P_12004385",
		"prefLabel": "Lapinniemi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5126529825369,
		"long": 23.7768135911973
	},{
		"id": "http://ldf.fi/copla/P_10581676",
		"prefLabel": "Santalahti",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5054953860119,
		"long": 23.7098236411088
	},{
		"id": "http://ldf.fi/copla/P_10581677",
		"prefLabel": "Pispala",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5025513541632,
		"long": 23.7095130789225
	},{
		"id": "http://ldf.fi/copla/P_10581679",
		"prefLabel": "Hyhky",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5009476033288,
		"long": 23.6863744876479
	},{
		"id": "http://ldf.fi/copla/P_10581681",
		"prefLabel": "Tahmela",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4975206440471,
		"long": 23.7111748099236
	},{
		"id": "http://ldf.fi/copla/P_10581715",
		"prefLabel": "Pohtola",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5350129006308,
		"long": 23.6753904901647
	},{
		"id": "http://ldf.fi/copla/P_10902917",
		"prefLabel": "Villilä",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4929692695041,
		"long": 23.6191895220501
	},{
		"id": "http://ldf.fi/copla/P_10581666",
		"prefLabel": "Rahola",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.4980037922293,
		"long": 23.6390686163796
	},{
		"id": "http://ldf.fi/copla/P_10581667",
		"prefLabel": "Ristimäki",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5037813038206,
		"long": 23.6418749272822
	},{
		"id": "http://ldf.fi/copla/P_10581668",
		"prefLabel": "Tohloppi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5108604672138,
		"long": 23.6280620884474
	},{
		"id": "http://ldf.fi/copla/P_10581669",
		"prefLabel": "Lamminpää",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.520520164671,
		"long": 23.6262366367514
	},{
		"id": "http://ldf.fi/copla/P_10581671",
		"prefLabel": "Ryydynpohja",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5266771634787,
		"long": 23.6573791372809
	},{
		"id": "http://ldf.fi/copla/P_10581672",
		"prefLabel": "Lintulampi",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5269610303991,
		"long": 23.6706069496755
	},{
		"id": "http://ldf.fi/copla/P_10581675",
		"prefLabel": "Lielahti",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5129234748342,
		"long": 23.6769736671131
	},{
		"id": "http://ldf.fi/copla/P_10581678",
		"prefLabel": "Epilä",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5073060159068,
		"long": 23.6695191833163
	},{
		"id": "http://ldf.fi/copla/P_10580915",
		"prefLabel": "Haukiluoma",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5184577921844,
		"long": 23.6005432660839
	},{
		"id": "http://ldf.fi/copla/P_10580916",
		"prefLabel": "Ikuri",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5099884200633,
		"long": 23.5959710306066
	},{
		"id": "http://ldf.fi/copla/P_10580917",
		"prefLabel": "Myllypuro",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5057247003308,
		"long": 23.5737834062976
	},{
		"id": "http://ldf.fi/copla/P_10580918",
		"prefLabel": "Tesoma",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5045217462478,
		"long": 23.6105887043359
	},{
		"id": "http://ldf.fi/copla/P_10580919",
		"prefLabel": "Kalkku",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.496083575164,
		"long": 23.5796479486195
	},{
		"id": "http://ldf.fi/copla/P_10581680",
		"prefLabel": "Kaarila",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.5020790755013,
		"long": 23.6641100248504
	},{
		"id": "http://ldf.fi/copla/P_10580920",
		"prefLabel": "Saarenkärki",
		"modifier": "-",
		"basicElement": "-",
		"typeLabel": "-",
		"broaderTypeLabel": "Kylä, kaupunginosa tai kulmakunta",
		"collector": "-",
		"broaderAreaLabel": "Tampere",
		"collectionYear": "-",
		"source": "PNR",
		"markerColor": "yellow",
		"namesArchiveLink": "-",
		"positioningAccuracy": "-",
		"lat": 61.488136171969,
		"long": 23.6109895775754
	}
];


var DX = 3300;
var DY = 7300;
var place;
var tries = 1;
var score = 0;
var maxtries = 10;
var greenbutton = document.getElementById("greenbutton");
var redbutton = document.getElementById("redbutton");
var kysytyt = [];

function onclick(e, ctx) {
    ctx.beginPath();
    var x = DX*(place.long-23.554);
    var y = DY*(61.553-place.lat);
    var dx = e.pageX / (place.long-23.554);
    var dy = e.pageY / (61.553-place.lat);
    var distx = x - e.pageX;
    var disty = y - e.pageY;
    var distance = Math.sqrt( distx*distx + disty*disty );
    score += distance;
    tries++;
    if (distance > 50) { // not close enough
        redbutton.style.left = e.pageX - 10;
        redbutton.style.top = e.pageY - 10;
        redbutton.style.display = 'inline';
        setTimeout( function() {alert("Pieleen meni, aloitamme alusta!"); next(ctx); }, 500 );
        tries = 1;
    } else {
        x = e.pageX - 10;
        y = e.pageY - 10;
        redbutton.style.display = 'none';
    }
    greenbutton.style.left = x;
    greenbutton.style.top = y;
    greenbutton.style.display = 'inline';
    if (tries > maxtries) {
        setTimeout( function() {alert("Loistavaa tietoa, kaikki oikein! Pelaa uudestaan!"); next(ctx); }, 500 );
        tries = 0;
        return;
    }
    if (tries > 1) next(ctx);
    
};



function next(ctx) {
    var scoretext = document.getElementById("scoretext");
    scoretext.innerHTML = tries + "/" + maxtries; // + ": " + Math.floor(score  );
    var map = document.getElementById("map");
    var text = document.getElementById("text");
    var numplaces = places.length;
    while (true) {
        var i = Math.floor(Math.random() * numplaces);
        place = places[i];
        if (kysytyt.indexOf(place.prefLabel) < 0) break;
    }
    kysytyt.push(place.prefLabel);
    if (kysytyt.length > 20) kysytyt.shift();
    text.innerHTML = "Missä on " + place.prefLabel + "?";
}

window.onload = function() {

    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");
    ctx.drawImage(map, 0, 0); //, 10, 10, 150, 180);
    canvas.addEventListener("click", function(e) { onclick(e, ctx) } );
    next(ctx);
};
</script>



